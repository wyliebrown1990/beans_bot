<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Home</title>
<link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='css/styles.css') }}">
<script>
    document.addEventListener("DOMContentLoaded", function() {
        const username = "{{ current_user.username }}";
        const text = `Welcome ${username}! It's great to meet you. I'm excited to help you along your career search journey. My creator designed me to help him overcome 2 cat-astrophic pain points in his job search journey.<br><br>First, to overcome his anxiety. By interviewing frequently and purr-fecting your answers you can enter your next interview with confidence.<br><br>Second, he found that companies he interviewed at would never give critical feedback, if any. By getting real, claw-some feedback on your interview performance you can improve.<br><br>Here are some pawsome notes on how to get the most out of my services: Upload 1 file of data about the company, job listing or job role you want and see how it refines the interview experience. Each form of information you process is stored in my memory so that when I ask new questions and give you feedback. I'm fact checking you from the data you uploaded. If a file you already uploaded becomes irrelevant just delete it!<br><br>If you have any purr-spectives on how to improve my service please send them to: wyliedeveloper@gmail.com<br><br>Good Luck and lets go make those biscuits!`;
        let i = 0;
        function typeWriter() {
            if (i < text.length) {
                let charToAdd = text.charAt(i);
                if (text.substr(i, 4) === "<br>") {
                    charToAdd = "<br>";
                    i += 3; // Skip the next 3 characters as they are part of the <br> tag
                }
                document.getElementById("speech-text").innerHTML += charToAdd;
                i++;
                setTimeout(typeWriter, 25);
            }
        }
        typeWriter();
    });

    function toggleNav() {
        var nav = document.getElementById("nav-menu");
        if (nav.style.display === "block") {
            nav.style.display = "none";
        } else {
            nav.style.display = "block";
        }
    }
</script>
</head>
<body>
<div id="page-container">
    <div id="content-wrap">
        <div class="navbar">
            <span class="nav-toggle" onclick="toggleNav()">&#9776;</span>
            <div id="nav-menu" class="nav-menu">
                <a href="{{ url_for('auth.home') }}">Home</a>
                <a href="{{ url_for('auth.logout') }}">Logout</a>
            </div>
        </div>
        <h1>Welcome, {{ current_user.username }}!</h1>
        <div class="container">
            <img src="https://interview-bot-public-images.s3.amazonaws.com/beans_bot_light_bg_500.png" alt="Beans Bot" class="image">
            <div class="speech-bubble">
                <p id="speech-text"></p>
            </div>
        </div>
        <div style="text-align: center; margin-top: 50px;">
            <form action="http://localhost:5011/" method="get" style="display: inline;">
                <input type="hidden" name="username" value="{{ current_user.username }}">
                <input type="hidden" name="user_id" value="{{ current_user.id }}">
                <button type="submit" class="button">Let's Get Started!</button>
            </form>
        </div>
    </div>
    <footer>
        <div>
            <a href="#">About us</a><br>
            <a href="#">Privacy Policy</a><br>
            <a href="#">Contact us</a>
        </div>
        <div>
            <a href="#">Pricing</a><br>
            <a href="#">Github</a>
        </div>
        <div>
            <a href="#">Blog</a><br>
            <a href="#">Forum</a>
        </div>
    </footer>
</div>
</body>
</html>
