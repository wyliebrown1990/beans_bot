<!DOCTYPE html>
<html lang="en">
<head>
    <!-- Same head content as first_round.html -->
</head>
<body>
<div id="page-container">
    <!-- Similar structure as first_round.html -->
    <div id="content-wrap">
        <header>
            <div>
                <h1>Third Round Interview for {{ username }}</h1>
            </div>
            <!-- Same navigation as first_round.html -->
        </header>
        <div id="chat" class="chat-container">
            <div class="chat-block">
                <div class="chat-image">
                    <img src="https://interview-bot-public-images.s3.amazonaws.com/beans_bot_light_bg_500.png" alt="Beans Bot" class="chat-image" id="bot-image">
                </div>
                <div class="speech-bubble">
                    <p>Beans-bot: {{ initial_question }}</p>
                </div>
            </div>
            <div id="responses" data-username="{{ username }}"></div>
        </div>

        <div class="status-container">
            <div id="status-message" class="status-message"></div>
        </div>
        <form id="response-form" method="POST">
            <input type="hidden" name="username" value="{{ username }}">
            <input type="hidden" name="user_id" value="{{ user_id }}">
            <input type="hidden" name="interview_round" value="{{ interview_round }}">
            <input type="hidden" name="session_id" value="{{ session_id }}">
            <label for="answer_1">Your Response:</label>
            <textarea id="answer_1" name="answer_1" rows="5" required></textarea>
            <div class="submit-button-container">
                <button type="submit" class="form-button" data-tooltip="Click to submit your answers">&#9654;</button>
                <button type="button" id="record-answer" class="form-button" data-tooltip="Click to record your answer">ðŸŽ™</button>
                <button type="button" id="generate_audio" class="form-button" data-tooltip="Click to have the next question read back to you">ðŸ’¬</button>
            </div>
            <div id="voice-selection" style="display:none;">
                <label for="voice">Choose Voice:</label>
                <select id="voice" name="voice">
                    <option value="none" selected>None</option>
                    <option value="WBPMIeOib7vXJnT2Iibp">Knightley</option>
                    <option value="P9OzYIULscDISblYABOC">Raj</option>
                    <option value="tnSpp4vdxKPjI9w0GnoV">Hope</option>
                    <option value="kBag1HOZlaVBH7ICPE8x">Sally</option>
                    <option value="aTxZrSrp47xsP6Ot4Kgd">Kayla</option>
                </select>
            </div>
        </form>
    </div>
</div>
<script src="{{ url_for('static', filename='js/script.js') }}"></script>
<script>
    const transcribeAudioUrl = "{{ url_for('third_round.transcribe_audio') }}";
    const startInterviewUrl = "{{ url_for('third_round.submit_answer') }}";
    const downloadTranscriptUrl = "{{ url_for('third_round.download_transcript') }}";
    const clearSessionUrl = "{{ url_for('third_round.clear_session') }}";
    const getLastAnswerUrl = "{{ url_for('third_round.get_last_question_route') }}";
    const wrapUpInterviewUrl = "{{ url_for('third_round.wrap_up_early') }}";
    const getLastQuestionUrl = "{{ url_for('third_round.get_last_question_route') }}";

    // Same script as first_round.html to handle form submission, timer, etc.
</script>
</body>
</html>
